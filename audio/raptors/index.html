<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Learning HTML5 Audio with Raptors | RJK Textbook</title>
    <link
      rel="stylesheet"
      href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/styles/github-dark.min.css"
    />
    <link rel="stylesheet" href="./style.css" />
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/highlight.min.js"></script>
    <script src="https://rjkerrison.co.uk/google-analytics.js"></script>
  </head>

  <body id="top">
    <main>
      <h1><span class="subtitle">HTML5 Audio:</span>Beware of the Raptors</h1>

      <div class="group">
        <p>
          Perhaps you're interested in learning to use HTML5 Audio? You've come
          to the right place, but be careful of the raptors.
        </p>
      </div>

      <a class="raptor-button" href="#step-one">Get started</a>
    </main>
    <section id="step-one">
      <h2>Hint 1</h2>
      <div class="group">
        <p>
          Use the element inspector to find what's making noise. You're looking
          for something to do with <em>audio</em>.
        </p>
        <p>
          You can use your Firefox, Chrome, or other browser's developer tools
          to see how the JavaScript works too. This could provide you with some
          big hints. Go to the Network tab and refresh to look for the name of
          the JavaScript file.
        </p>
      </div>
      <div class="buttons">
        <a class="raptor-button" href="#top">Top</a>
        <button class="raptor-button">Summon the raptor</button>
        <a class="raptor-button" href="#step-two">Next hint</a>
      </div>
    </section>
    <section id="step-two">
      <h2>Hint 2</h2>
      <div class="group">
        <p>
          The HTML element you need uses the <code>&lt;audio&gt;</code> tag.
        </p>
        <p>
          Find out more about it at the
          <a
            href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/audio"
            >MDN documentation for the Embed Audio element</a
          >.
        </p>
      </div>
      <div class="buttons">
        <a class="raptor-button" href="#top">Top</a>
        <button class="raptor-button">Summon the raptor</button>
        <a class="raptor-button" href="#step-three">Next hint</a>
      </div>
    </section>
    <section id="step-three">
      <h2>Hint 3</h2>
      <div class="group">
        <p>
          In the JavaScript, you're looking for the method which plays the
          audio, so check for
          <code lang="javascript" lang="javascript">someAudioObject.play()</code
          >.
        </p>
        <p>
          Find out more about the play method at the
          <a
            href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/play"
            >MDN documentation for the HTML Media Element in JavaScript</a
          >.
        </p>
      </div>
      <div class="buttons">
        <a class="raptor-button" href="#top">Top</a>
        <button class="raptor-button" href="#step-one">
          Summon the raptor
        </button>
        <a class="raptor-button" href="#solution">See some code</a>
      </div>
    </section>
    <section id="solution">
      <h2>A solution</h2>
      <div class="group">
        <p>All we need from our HTML is an audio file we can grab.</p>
        <pre><code lang="html">&lt;audio src="./raptor-call.wav"&gt;&lt;/audio&gt;</code></pre>
        <p>
          The usual rules apply for relative paths. In this case, we're looking
          for a file called <code>raptor-call.wav</code> in the same folder as
          our HTML file. If it exists, we can play it.
        </p>
      </div>
      <div class="group">
        <p>The real magic happens here:</p>
        <pre><code lang="javascript"
          >const raptorAudio = document.querySelector('audio')
raptorAudio.play()</code
          ></pre>
        <p>
          We're able to select the audio element, then play it. We can control
          when the sound plays by running the <code>play()</code> command on
          whichever event we like.
        </p>
      </div>
      <div class="group">
        <p>The full JavaScript code for this page is as follows:</p>
        <pre><code lang="javascript" data-src="./raptors.js"></code></pre>
        <p>
          We have a few things happening here, such as the timeouts to line up
          the sound with the appearance of the velociraptors, and the further
          timeouts to remove them.
        </p>
      </div>
      <div class="buttons">
        <a class="raptor-button" href="#top">Top</a>
        <button class="raptor-button" href="#step-one">
          Summon the raptor
        </button>
        <a
          class="raptor-button"
          href="https://github.com/rjkerrison/textbook/audio/controls/raptors"
          >See this project on GitHub</a
        >
      </div>
    </section>
    <aside>
      <picture class="raptor hiding">
        <img src="./raptor.png" alt="Raptor" />
      </picture>
    </aside>

    <audio src="./raptor-call.wav"></audio>
    <script src="./raptors.js"></script>
    <script src="../../shared/js/code-handling.js"></script>
  </body>
</html>
