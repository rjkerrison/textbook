<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <meta name="keywords" content="html,javascript,tutorial,loki,tva" />

    <meta prefix="og: http://ogp.me/ns#" property="og:type" content="website" />
    <meta
      prefix="og: http://ogp.me/ns#"
      property="og:title"
      content="Learning Time in JavaScript| RJK Textbook"
    />

    <meta
      prefix="og: http://ogp.me/ns#"
      property="og:description"
      content="A cheatsheet for handling everything about Time in JavaScript"
    />

    <meta
      prefix="og: http://ogp.me/ns#"
      property="og:image"
      name="image"
      content="https://rjkerrison.co.uk/textbook/time/images/time.png"
    />

    <meta
      prefix="og: http://ogp.me/ns#"
      property="og:url"
      content="https://rjkerrison.co.uk/textbook/time"
    />
    <meta
      prefix="og: http://ogp.me/ns#"
      name="author"
      property="og:author"
      content="Robin James Kerrison"
    />
    <meta
      prefix="og: http://ogp.me/ns#"
      property="og:publish_date"
      name="publish_date"
      content="2022-08-03T07:19:00.000Z"
    />
    <meta property="og:locale" content="en_GB" />
    <meta
      property="article:published_time"
      name="publish_date"
      content="2022-08-03T07:19:00.000Z"
    />
    <meta name="pdate" content="20220803" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@robinjames_" />
    <meta name="twitter:creator" content="@robinjames_" />
    <meta
      name="twitter:domain"
      content="https://rjkerrison.co.uk/textbook/time"
    />
    <meta
      name="twitter:title"
      content="Learning Time in JavaScript| RJK Textbook"
    />
    <meta
      name="twitter:description"
      content="A cheatsheet for handling everything about Time in JavaScript"
    />
    <meta
      name="twitter:image"
      content="https://rjkerrison.co.uk/textbook/time/images/time.png"
    />
    <meta
      name="twitter:image:alt"
      property="og:image:alt"
      content="The word 'time' written with different fonts for each letter."
    />

    <title>Learning Time in JavaScript| RJK Textbook</title>
    <link
      rel="stylesheet"
      href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/styles/github-dark.min.css"
    />
    <link rel="stylesheet" href="../shared/styles/font-me-up.css" />
    <link rel="stylesheet" href="./styles/main.css" />
    <link rel="icon" href="/favicon.ico" />
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/highlight.min.js"></script>
    <script src="../shared/js/font-me-up.js"></script>
    <script src="https://rjkerrison.co.uk/script/google-analytics.js"></script>
  </head>
  <body id="top">
    <header id="loki">
      <a href="#top">
        <h1 title="For all time. Always.">
          <div class="font-me-up">TIME</div>
          <div>in JavaScript</div>
        </h1>
      </a>
      <nav>
        <ul>
          <li>
            <a class="font-me-up font-me-up-static" href="#set-interval"
              >Loop</a
            >
          </li>
          <li>
            <a class="font-me-up font-me-up-static" href="#stopwatch"
              >Stopwatch</a
            >
          </li>
          <li>
            <a class="font-me-up font-me-up-static" href="#date">Date</a>
          </li>
          <li>
            <a class="font-me-up font-me-up-static" href="#clock">Clock</a>
          </li>
          <li>
            <a class="font-me-up font-me-up-static" href="#countdown"
              >Countdown</a
            >
          </li>
          <li>
            <a class="font-me-up font-me-up-static" href="#timeout">Timeout</a>
          </li>
        </ul>
      </nav>
    </header>
    <main>
      <div class="section-inner">
        <p>Hey y'all! Here at the TVA, we control all of time.</p>
        <p>With JavaScript, it's really easy!</p>
      </div>
      <a class="loki-button font-me-up" href="#set-interval">Next</a>
    </main>
    <section id="set-interval">
      <h2 class="font-me-up font-me-up-static">Loops with setInterval</h2>
      <div class="section-inner">
        <p>Don't forget to put your Variants in a time loop! By using</p>
        <pre><code lang="javascript">setInterval(callback, timeout)</code></pre>
        <p>
          we can loop anything we want. Below, for instance, we're cycling
          through showing four different GIFs.
        </p>
        <div id="time-loop" class="centre">
          <picture class="hidden" title="Loki"
            ><img
              src="https://media.giphy.com/media/CIayGxFu0KjRAFtn6b/giphy.gif"
              alt="Loki"
          /></picture>
          <picture class="hidden" title="Mobius"
            ><img
              src="https://media.giphy.com/media/3DU3CZq3HIWSpM03HO/giphy.gif"
              alt="Mobius"
          /></picture>
          <picture title="Miss Minutes"
            ><img
              src="https://media.giphy.com/media/gmdKBCklQ7ElxAN7oH/giphy.gif"
              alt="Miss Minutes"
          /></picture>
          <picture class="hidden" title="Sylvie"
            ><img
              src="https://media.giphy.com/media/I2NbVzYSt4jIvswpfQ/giphy.gif"
              alt="Sylvie"
          /></picture>
        </div>
        <p>This works with the following code:</p>
        <pre><code data-src="./js/time-loop.js" lang="javascript"></code></pre>
      </div>
      <script src="./js/time-loop.js"></script>
      <a class="loki-button font-me-up" href="#stopwatch">Next</a>
    </section>
    <section id="stopwatch">
      <h2 class="font-me-up font-me-up-static">Stopwatch using setInterval</h2>
      <p>
        Sometimes, we need to time things just right. Knowing how long something
        takes is helpful.
      </p>
      <div class="centre timer">
        <div id="stopwatch-display">00:00.000</div>
        <button id="stopwatch-start">Start Timer</button>
        <button id="stopwatch-stop">Stop Timer</button>
      </div>
      <p>This works with the following code:</p>
      <pre><code data-src="./js/stopwatch.js" lang="javascript"></code></pre>
      <script src="./js/stopwatch.js"></script>
      <a class="loki-button font-me-up" href="#date">Next</a>
    </section>
    <section id="date">
      <h2 class="font-me-up font-me-up-static">Date</h2>
      <div class="section-inner">
        <p>
          In all seriousness, it takes a bit of work to get up to speed with
          Date in JavaScript. Documentation is great, and the specification is
          well-aligned but not perfect. Here's what you need to know today:
        </p>
        <ol>
          <li>
            <p>You can construct a date with</p>
            <pre><code lang="javascript">new Date(year, month, day)</code></pre>
          </li>
          <li>
            <p>January is month zero</p>
            <pre><code lang="javascript">const newYearsDay = new Date(2000, 0, 1)</code></pre>
            <p>For 1st January 2000, it's 2000, 0, 1.</p>
          </li>
          <li>
            <p>You can display dates through a few different methods</p>
            <pre><code lang="javascript"
>newYearsDay.getFullYear() // 2000
newYearsDay.getMonth() // 0
newYearsDay.getDate() // 1
newYearsDay.toLocaleString() // "01/01/2000, 00:00:00"
newYearsDay.toDateString() // "Sat Jan 01 2000"
newYearsDay.toGMTString() // "Sat, 01 Jan 2000 00:00:00 GMT"
newYearsDay.toISOString() // "2000-01-01T00:00:00.000Z"
newYearsDay.toLocaleDateString() // "01/01/2000"
newYearsDay.toUTCString() // "Sat, 01 Jan 2000 00:00:00 GMT"</code></pre>
            <p>
              Often, you'll want to use the numbers and convert them to strings
              yourself. This is the case for our
              <a href="#clock">clock</a> below.
            </p>
          </li>
          <li>
            <p>You can also construct a date with</p>
            <pre><code lang="javascript">new Date(milliseconds)</code></pre>
            <p>This is useful when comparing dates.</p>
          </li>
          <li>
            <p>Time zones matter!</p>
            <pre><code>const date1 = new Date('August 19, 1975 23:15:30 GMT+07:00')
              const date2 = new Date('August 19, 1975 23:15:30 GMT-02:00')
              const millisecondsInOneHour = 60 * 60 * 1000
              console.log((date2 - date1) / millisecondsInOneHour);
              // expected output: 9</code></pre>
            <p>
              You can also get the user's current time zone offset in minutes.
              This is the difference between the time elapsed between the date
              evaluated in UTC and evaluated in the current timezone.
            </p>
            <pre><code>new Date().getTimezoneOffset() // 0 in London in winter, -60 in summer, -60 in France in winter, -120 in France in summer</code></pre>
          </li>
          <li>
            <p>Time started in 1970. I'm not kidding.</p>
            <pre><code lang="javascript">const dawnOfTime = new Date(0)
dawnOfTime.getFullYear() // 1970</code></pre>
            <p>This is Thursday January 1st 1970 at midnight in Greenwich.</p>
          </li>
          <li>
            <p>You can compare dates as a boolean check</p>
            <pre><code lang="javascript">myBirthday > yourBirthday</code></pre>
            <p>
              In such a case, the date with the larger number of milliseconds is
              the greater. That means the future is greater than the past. The
              past is lesser than the future. Don't tell the Greatest Generation
              that JavaScript disagrees with them.
            </p>
          </li>
          <li>
            <p>You can subtract dates to find time remaining</p>
            <pre><code lang="javascript">const diff = nextHoliday - currentTime
const timeToGo = new Date(diff)</code></pre>
            <p>
              In such a case, <code>timeToGo</code> would be an actual date,
              with a year, month, day etc. You have to remember this when
              displaying to the user. If there's 1 day and 3 hours to go, the
              value of <code>timeToGo</code> will be 2nd January 1970 at 3am in
              Greenwich.
            </p>
          </li>
        </ol>
      </div>
      <a class="loki-button font-me-up" href="#clock">Next</a>
    </section>
    <section id="clock">
      <h2 class="font-me-up font-me-up-static">Clock</h2>
      <p>We may want to show a big clock so we know what time it is.</p>
      <div class="centre timer">
        <div id="clock-display">00:00.000</div>
      </div>
      <p>This works with the following code:</p>
      <pre><code data-src="./js/clock.js" lang="javascript"></code></pre>
      <script src="./js/clock.js"></script>
      <a class="loki-button font-me-up" href="#countdown">Next</a>
    </section>
    <section id="countdown">
      <h2 class="font-me-up font-me-up-static">Countdown</h2>
      <div class="section-inner">
        <p>
          Countdowns are great for when you're running out of time, or when
          time's running out on you.
        </p>
        <p>
          Maybe you want to know how long is left before the next year starts?
          We've got you.
        </p>
        <div class="centre timer">
          <div id="countdown-display">
            125 days, 19 hours, 14 minutes and 3 seconds
          </div>
        </div>
        <p>or did you want that in months?</p>
        <div class="centre timer">
          <div id="countdown-display-months">Several months</div>
        </div>
        <p>This works with the following code:</p>
        <pre><code data-src="./js/countdown.js" lang="javascript"></code></pre>
      </div>
      <script src="./js/countdown.js"></script>
      <a class="loki-button font-me-up" href="#timeout">Next</a>
    </section>
    <section id="timeout">
      <h2 class="font-me-up font-me-up-static">setTimeout</h2>
      <div class="section-inner">
        <p>
          setTimeout is setInterval's variant, and works in almost the same way,
          save for one important distinction: it doesn't repeat.
        </p>
        <p>
          What's the point of that? Delaying is useful for a lot of reasons. We
          might want to wait a second before enabling an interactive option. We
          might choose to display something for only a few seconds.
        </p>
        <p>
          You can also animate removal of elements in an interesting way by
          delaying the removal. For instance, here, when you click a Loki, he
          will start to scale down to a point. We won't remove the element until
          the disappearing is finished.
        </p>
        <div class="centre timer">
          <button id="timeout-start">Start pruning Lokis</button>
        </div>
        <p>This works with the following code:</p>
        <pre><code data-src="./js/timeout.js" lang="javascript"></code></pre>
        <p>
          For a more advanced, playable version, see
          <a href="../canvas/prune/">Pruning Loki</a>
        </p>
      </div>
      <script src="./js/timeout.js"></script>
    </section>
    <script src="../shared/js/code-handling.js"></script>
  </body>
</html>
